<div class="container-fluid p-4">
  <div class="row">
    <div class="col-12">
      
      <app-task-controls 
        (addTask)="onAddTask()"
        (searchTermChange)="onSearchTermChange($event)"
        (filterByChange)="onFilterByChange($event)"
        (sortByChange)="onSortByChange($event)">
      </app-task-controls>

      <div *ngIf="isLoading" class="text-center p-4">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2 text-muted">Loading tasks...</p>
      </div>

      <div *ngIf="error" class="alert alert-danger mb-3" role="alert">
        {{ error }}
      </div>

      <app-task-list 
        *ngIf="!isLoading"
        [tasks]="filteredTasks"
        (taskToggle)="onTaskToggle($event)"
        (taskDelete)="onTaskDelete($event)"
        (taskEdit)="onTaskEdit($event)">
      </app-task-list>

    </div>
  </div>
</div>